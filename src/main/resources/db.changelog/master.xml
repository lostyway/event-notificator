<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="
      http://www.liquibase.org/xml/ns/dbchangelog
      https://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.5.xsd">

    <changeSet id="1" author="lostway">
        <comment>Создание таблицы changelogs</comment>
        <sql>
            create table changelogs
            (
                id          bigserial primary key,
                event_id    bigint not null,
                name        jsonb,
                max_places  jsonb,
                date        jsonb,
                cost        jsonb,
                duration    jsonb,
                location_id jsonb
            );
        </sql>
        <rollback>drop table if exists changelogs cascade</rollback>
    </changeSet>
    <changeSet id="2" author="lostway">
        <comment>Создание таблицы notifications</comment>
        <sql>
            create table notifications
            (
                id         bigserial primary key,
                user_id    bigint,
                event_id   bigint    not null,
                is_read    boolean   not null,
                changelog  bigint references changelogs (id),
                created_at timestamp not null
            );
        </sql>
        <rollback>drop table if exists notifications cascade</rollback>
    </changeSet>
</databaseChangeLog>